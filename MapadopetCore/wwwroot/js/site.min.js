function setCookie(n,t,i){var r=new Date,u;r.setTime(r.getTime()+i*864e5);u="expires="+r.toUTCString();document.cookie=n+"="+t+";"+u+";path=/"}function getCookie(n){for(var t,r=n+"=",f=decodeURIComponent(document.cookie),u=f.split(";"),i=0;i<u.length;i++){for(t=u[i];t.charAt(0)==" ";)t=t.substring(1);if(t.indexOf(r)==0)return t.substring(r.length,t.length)}return""}(function(n,t,i){L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(n){L.Util.setOptions(this,n);this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction);this._featureGroup=L.featureGroup();this._featureGroup.addEventParent(this);this._nonPointGroup=L.featureGroup();this._nonPointGroup.addEventParent(this);this._inZoomAnimation=0;this._needsClustering=[];this._needsRemoving=[];this._currentShownBounds=null;this._queue=[];this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation);this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(n){if(n instanceof L.LayerGroup)return this.addLayers([n]);if(!n.getLatLng)return this._nonPointGroup.addLayer(n),this.fire("layeradd",{layer:n}),this;if(!this._map)return this._needsClustering.push(n),this.fire("layeradd",{layer:n}),this;if(this.hasLayer(n))return this;this._unspiderfy&&this._unspiderfy();this._addLayer(n,this._maxZoom);this.fire("layeradd",{layer:n});this._topClusterLevel._recalculateBounds();this._refreshClustersIcons();var t=n,i=this._zoom;if(n.__parent)while(t.__parent._zoom>=i)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(n,t):this._animationAddLayerNonAnimated(n,t)),this},removeLayer:function(n){return n instanceof L.LayerGroup?this.removeLayers([n]):n.getLatLng?this._map?n.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(n)),this._removeLayer(n,!0),this.fire("layerremove",{layer:n}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),n.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(n)&&(this._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,n)&&this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}),this):(this._nonPointGroup.removeLayer(n),this.fire("layerremove",{layer:n}),this)},addLayers:function(n,t){var h,e,c;if(!L.Util.isArray(n))return this.addLayer(n);var l=this._featureGroup,o=this._nonPointGroup,a=this.options.chunkedLoading,v=this.options.chunkInterval,s=this.options.chunkProgress,u=n.length,r=0,f=!0,i;if(this._map)h=(new Date).getTime(),e=L.bind(function(){for(var w=(new Date).getTime(),y,c,p;r<u;r++){if(a&&r%200==0&&(y=(new Date).getTime()-w,y>v))break;if(i=n[r],i instanceof L.LayerGroup){f&&(n=n.slice(),f=!1);this._extractNonGroupLayers(i,n);u=n.length;continue}if(!i.getLatLng){o.addLayer(i);t||this.fire("layeradd",{layer:i});continue}this.hasLayer(i)||(this._addLayer(i,this._maxZoom),t||this.fire("layeradd",{layer:i}),i.__parent&&i.__parent.getChildCount()===2&&(c=i.__parent.getAllChildMarkers(),p=c[0]===i?c[1]:c[0],l.removeLayer(p)))}s&&s(r,u,(new Date).getTime()-h);r===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(e,this.options.chunkDelay)},this),e();else for(c=this._needsClustering;r<u;r++){if(i=n[r],i instanceof L.LayerGroup){f&&(n=n.slice(),f=!1);this._extractNonGroupLayers(i,n);u=n.length;continue}if(!i.getLatLng){o.addLayer(i);continue}this.hasLayer(i)||c.push(i)}return this},removeLayers:function(n){var i,t,r=n.length,o=this._featureGroup,s=this._nonPointGroup,u=!0,f,e;if(!this._map){for(i=0;i<r;i++){if(t=n[i],t instanceof L.LayerGroup){u&&(n=n.slice(),u=!1);this._extractNonGroupLayers(t,n);r=n.length;continue}this._arraySplice(this._needsClustering,t);s.removeLayer(t);this.hasLayer(t)&&this._needsRemoving.push({layer:t,latlng:t._latlng});this.fire("layerremove",{layer:t})}return this}if(this._unspiderfy)for(this._unspiderfy(),f=n.slice(),e=r,i=0;i<e;i++){if(t=f[i],t instanceof L.LayerGroup){this._extractNonGroupLayers(t,f);e=f.length;continue}this._unspiderfyLayer(t)}for(i=0;i<r;i++){if(t=n[i],t instanceof L.LayerGroup){u&&(n=n.slice(),u=!1);this._extractNonGroupLayers(t,n);r=n.length;continue}if(!t.__parent){s.removeLayer(t);this.fire("layerremove",{layer:t});continue}this._removeLayer(t,!0,!0);this.fire("layerremove",{layer:t});o.hasLayer(t)&&(o.removeLayer(t),t.clusterShow&&t.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(n){n.off(this._childMarkerEventHandlers,this);delete n.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var n=new L.LatLngBounds,t;for(this._topClusterLevel&&n.extend(this._topClusterLevel._bounds),t=this._needsClustering.length-1;t>=0;t--)n.extend(this._needsClustering[t].getLatLng());return n.extend(this._nonPointGroup.getBounds()),n},eachLayer:function(n,t){var r=this._needsClustering.slice(),e=this._needsRemoving,f,i,u;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(r),i=r.length-1;i>=0;i--){for(f=!0,u=e.length-1;u>=0;u--)if(e[u].layer===r[i]){f=!1;break}f&&n.call(t,r[i])}this._nonPointGroup.eachLayer(n,t)},getLayers:function(){var n=[];return this.eachLayer(function(t){n.push(t)}),n},getLayer:function(n){var t=null;return n=parseInt(n,10),this.eachLayer(function(i){L.stamp(i)===n&&(t=i)}),t},hasLayer:function(n){if(!n)return!1;for(var i=this._needsClustering,t=i.length-1;t>=0;t--)if(i[t]===n)return!0;for(i=this._needsRemoving,t=i.length-1;t>=0;t--)if(i[t].layer===n)return!1;return!!(n.__parent&&n.__parent._group===this)||this._nonPointGroup.hasLayer(n)},zoomToShowLayer:function(n,t){typeof t!="function"&&(t=function(){});var i=function(){if((n._icon||n.__parent._icon)&&!this._inZoomAnimation)if(this._map.off("moveend",i,this),this.off("animationend",i,this),n._icon)t();else if(n.__parent._icon){this.once("spiderfied",t,this);n.__parent.spiderfy()}};if(n._icon&&this._map.getBounds().contains(n.getLatLng()))t();else if(n.__parent._zoom<Math.round(this._map._zoom)){this._map.on("moveend",i,this);this._map.panTo(n.getLatLng())}else{this._map.on("moveend",i,this);this.on("animationend",i,this);n.__parent.zoomToBounds()}},onAdd:function(n){this._map=n;var i,r,t;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(n),this._nonPointGroup.addTo(n),this._gridClusters||this._generateInitialClusters(),this._maxLat=n.options.crs.projection.MAX_LATITUDE,i=0,r=this._needsRemoving.length;i<r;i++)t=this._needsRemoving[i],t.newlatlng=t.layer._latlng,t.layer._latlng=t.latlng;for(i=0,r=this._needsRemoving.length;i<r;i++)t=this._needsRemoving[i],this._removeLayer(t.layer,!0),t.layer._latlng=t.newlatlng;this._needsRemoving=[];this._zoom=Math.round(this._map._zoom);this._currentShownBounds=this._getExpandedVisibleBounds();this._map.on("zoomend",this._zoomEnd,this);this._map.on("moveend",this._moveEnd,this);this._spiderfierOnAdd&&this._spiderfierOnAdd();this._bindEvents();r=this._needsClustering;this._needsClustering=[];this.addLayers(r,!0)},onRemove:function(n){n.off("zoomend",this._zoomEnd,this);n.off("moveend",this._moveEnd,this);this._unbindEvents();this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","");this._spiderfierOnRemove&&this._spiderfierOnRemove();delete this._maxLat;this._hideCoverage();this._featureGroup.remove();this._nonPointGroup.remove();this._featureGroup.clearLayers();this._map=null},getVisibleParent:function(n){for(var t=n;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(n,t){for(var i=n.length-1;i>=0;i--)if(n[i]===t)return n.splice(i,1),!0},_removeFromGridUnclustered:function(n,t){for(var i=this._map,r=this._gridUnclustered,u=this._map.getMinZoom();t>=u;t--)if(!r[t].removeObject(n,i.project(n.getLatLng(),t)))break},_childMarkerDragStart:function(n){n.target.__dragStart=n.target._latlng},_childMarkerMoved:function(n){if(!this._ignoreMove&&!n.target.__dragStart){var t=n.target._popup&&n.target._popup.isOpen();this._moveChild(n.target,n.oldLatLng,n.latlng);t&&n.target.openPopup()}},_moveChild:function(n,t,i){n._latlng=t;this.removeLayer(n);n._latlng=i;this.addLayer(n)},_childMarkerDragEnd:function(n){n.target.__dragStart&&this._moveChild(n.target,n.target.__dragStart,n.target._latlng);delete n.target.__dragStart},_removeLayer:function(n,t,i){var s=this._gridClusters,h=this._gridUnclustered,f=this._featureGroup,e=this._map,c=this._map.getMinZoom(),r,o,u;for(t&&this._removeFromGridUnclustered(n,this._maxZoom),r=n.__parent,o=r._markers,this._arraySplice(o,n);r;){if(r._childCount--,r._boundsNeedUpdate=!0,r._zoom<c)break;else t&&r._childCount<=1?(u=r._markers[0]===n?r._markers[1]:r._markers[0],s[r._zoom].removeObject(r,e.project(r._cLatLng,r._zoom)),h[r._zoom].addObject(u,e.project(u.getLatLng(),r._zoom)),this._arraySplice(r.__parent._childClusters,r),r.__parent._markers.push(u),u.__parent=r.__parent,r._icon&&(f.removeLayer(r),i||f.addLayer(u))):r._iconNeedsUpdate=!0;r=r.__parent}delete n.__parent},_isOrIsParent:function(n,t){while(t){if(n===t)return!0;t=t.parentNode}return!1},fire:function(n,t,i){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;n="cluster"+n}L.FeatureGroup.prototype.fire.call(this,n,t,i)},listens:function(n,t){return L.FeatureGroup.prototype.listens.call(this,n,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+n,t)},_defaultIconCreateFunction:function(n){var t=n.getChildCount(),i=" marker-cluster-";return i+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"<\/span><\/div>",className:"marker-cluster"+i,iconSize:new L.Point(40,40)})},_bindEvents:function(){var n=this._map,t=this.options.spiderfyOnMaxZoom,i=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick;if(t||r)this.on("clusterclick",this._zoomOrSpiderfy,this);if(i){this.on("clustermouseover",this._showCoverage,this);this.on("clustermouseout",this._hideCoverage,this);n.on("zoomend",this._hideCoverage,this)}},_zoomOrSpiderfy:function(n){for(var i=n.layer,t=i;t._childClusters.length===1;)t=t._childClusters[0];t._zoom===this._maxZoom&&t._childCount===i._childCount&&this.options.spiderfyOnMaxZoom?i.spiderfy():this.options.zoomToBoundsOnClick&&i.zoomToBounds();n.originalEvent&&n.originalEvent.keyCode===13&&this._map._container.focus()},_showCoverage:function(n){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),n.layer.getChildCount()>2&&n.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(n.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var n=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,i=this.options.zoomToBoundsOnClick,r=this._map;(n||i)&&this.off("clusterclick",this._zoomOrSpiderfy,this);t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),r.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var n=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,n);this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),n);this._currentShownBounds=n;return}},_generateInitialClusters:function(){var t=this._map.getMaxZoom(),u=this._map.getMinZoom(),i=this.options.maxClusterRadius,r=i,n;for(typeof i!="function"&&(r=function(){return i}),this.options.disableClusteringAtZoom&&(t=this.options.disableClusteringAtZoom-1),this._maxZoom=t,this._gridClusters={},this._gridUnclustered={},n=t;n>=u;n--)this._gridClusters[n]=new L.DistanceGrid(r(n)),this._gridUnclustered[n]=new L.DistanceGrid(r(n));this._topClusterLevel=new this._markerCluster(this,u-1)},_addLayer:function(n,t){var s=this._gridClusters,h=this._gridUnclustered,c=this._map.getMinZoom(),e,r,i,o,u,f;this.options.singleMarkerMode&&this._overrideMarkerIcon(n);n.on(this._childMarkerEventHandlers,this);for(;t>=c;t--){if(e=this._map.project(n.getLatLng(),t),i=s[t].getNearObject(e),i){i._addChild(n);n.__parent=i;return}if(i=h[t].getNearObject(e),i){for(o=i.__parent,o&&this._removeLayer(i,!1),u=new this._markerCluster(this,t,i,n),s[t].addObject(u,this._map.project(u._cLatLng,t)),i.__parent=u,n.__parent=u,f=u,r=t-1;r>o._zoom;r--)f=new this._markerCluster(this,r,f),s[r].addObject(f,this._map.project(i.getLatLng(),r));o._addChild(f);this._removeFromGridUnclustered(i,t);return}h[t].addObject(n,e)}this._topClusterLevel._addChild(n);n.__parent=this._topClusterLevel;return},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(n){n instanceof L.MarkerCluster&&n._iconNeedsUpdate&&n._updateIcon()})},_enqueue:function(n){this._queue.push(n);this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var n=0;n<this._queue.length;n++)this._queue[n].call(this);this._queue.length=0;clearTimeout(this._queueTimeout);this._queueTimeout=null},_mergeSplitClusters:function(){var n=Math.round(this._map._zoom);this._processQueue();this._zoom<n&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,n)):this._zoom>n?(this._animationStart(),this._animationZoomOut(this._zoom,n)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(n){var t=this._maxLat;return t!==i&&(n.getNorth()>=t&&(n._northEast.lat=Infinity),n.getSouth()<=-t&&(n._southWest.lat=-Infinity)),n},_animationAddLayerNonAnimated:function(n,t){if(t===n)this._featureGroup.addLayer(n);else if(t._childCount===2){t._addToMap();var i=t.getAllChildMarkers();this._featureGroup.removeLayer(i[0]);this._featureGroup.removeLayer(i[1])}else t._updateIcon()},_extractNonGroupLayers:function(n,t){var u=n.getLayers(),r=0,i;for(t=t||[];r<u.length;r++){if(i=u[r],i instanceof L.LayerGroup){this._extractNonGroupLayers(i,t);continue}t.push(i)}return t},_overrideMarkerIcon:function(n){return n.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[n]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-Infinity,-Infinity),new L.LatLng(Infinity,Infinity))});L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(n,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),n);this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds());this.fire("animationend")},_animationZoomOut:function(n,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),n);this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds());this.fire("animationend")},_animationAddLayer:function(n,t){this._animationAddLayerNonAnimated(n,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim";this._inZoomAnimation++},_animationZoomIn:function(n,t){var i=this._getExpandedVisibleBounds(),r=this._featureGroup,f=this._map.getMinZoom(),u;this._ignoreMove=!0;this._topClusterLevel._recursively(i,n,f,function(f){var e=f._latlng,s=f._markers,o;for(i.contains(e)||(e=null),f._isSingleParent()&&n+1===t?(r.removeLayer(f),f._recursivelyAddChildrenToMap(null,t,i)):(f.clusterHide(),f._recursivelyAddChildrenToMap(e,t,i)),u=s.length-1;u>=0;u--)o=s[u],i.contains(o._latlng)||r.removeLayer(o)});this._forceLayout();this._topClusterLevel._recursivelyBecomeVisible(i,t);r.eachLayer(function(n){n instanceof L.MarkerCluster||!n._icon||n.clusterShow()});this._topClusterLevel._recursively(i,n,t,function(n){n._recursivelyRestoreChildPositions(t)});this._ignoreMove=!1;this._enqueue(function(){this._topClusterLevel._recursively(i,n,f,function(n){r.removeLayer(n);n.clusterShow()});this._animationEnd()})},_animationZoomOut:function(n,t){this._animationZoomOutSingle(this._topClusterLevel,n-1,t);this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds());this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,this._map.getMinZoom(),n,this._getExpandedVisibleBounds())},_animationAddLayer:function(n,t){var i=this,r=this._featureGroup;r.addLayer(n);t!==n&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),n._setPos(this._map.latLngToLayerPoint(t.getLatLng())),n.clusterHide(),this._enqueue(function(){r.removeLayer(n);n.clusterShow();i._animationEnd()})):(this._forceLayout(),i._animationStart(),i._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(n,t,i){var r=this._getExpandedVisibleBounds(),u=this._map.getMinZoom(),f;n._recursivelyAnimateChildrenInAndAddSelfToMap(r,u,t+1,i);f=this;this._forceLayout();n._recursivelyBecomeVisible(r,i);this._enqueue(function(){if(n._childCount===1){var e=n._markers[0];this._ignoreMove=!0;e.setLatLng(e.getLatLng());this._ignoreMove=!1;e.clusterShow&&e.clusterShow()}else n._recursively(r,i,u,function(n){n._recursivelyRemoveChildrenFromMap(r,u,t+1)});f._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""));this._inZoomAnimation--;this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(t.body.offsetWidth)}});L.markerClusterGroup=function(n){return new L.MarkerClusterGroup(n)};L.MarkerCluster=L.Marker.extend({initialize:function(n,t,i,r){L.Marker.prototype.initialize.call(this,i?i._cLatLng||i.getLatLng():new L.LatLng(0,0),{icon:this});this._group=n;this._zoom=t;this._markers=[];this._childClusters=[];this._childCount=0;this._iconNeedsUpdate=!0;this._boundsNeedUpdate=!0;this._bounds=new L.LatLngBounds;i&&this._addChild(i);r&&this._addChild(r)},getAllChildMarkers:function(n){var t,i;for(n=n||[],t=this._childClusters.length-1;t>=0;t--)this._childClusters[t].getAllChildMarkers(n);for(i=this._markers.length-1;i>=0;i--)n.push(this._markers[i]);return n},getChildCount:function(){return this._childCount},zoomToBounds:function(){for(var n=this._childClusters.slice(),f=this._group._map,u=f.getBoundsZoom(this._bounds),t=this._zoom+1,e=f.getZoom(),i,r;n.length>0&&u>t;){for(t++,r=[],i=0;i<n.length;i++)r=r.concat(n[i]._childClusters);n=r}u>t?this._group._map.setView(this._latlng,t):u<=e?this._group._map.setView(this._latlng,e+1):this._group._map.fitBounds(this._bounds)},getBounds:function(){var n=new L.LatLngBounds;return n.extend(this._bounds),n},_updateIcon:function(){this._iconNeedsUpdate=!0;this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(n,t){this._iconNeedsUpdate=!0;this._boundsNeedUpdate=!0;this._setClusterCenter(n);n instanceof L.MarkerCluster?(t||(this._childClusters.push(n),n.__parent=this),this._childCount+=n._childCount):(t||this._markers.push(n),this._childCount++);this.__parent&&this.__parent._addChild(n,!0)},_setClusterCenter:function(n){this._cLatLng||(this._cLatLng=n._cLatLng||n._latlng)},_resetBounds:function(){var n=this._bounds;n._southWest&&(n._southWest.lat=Infinity,n._southWest.lng=Infinity);n._northEast&&(n._northEast.lat=-Infinity,n._northEast.lng=-Infinity)},_recalculateBounds:function(){var o=this._markers,s=this._childClusters,r=0,u=0,f=this._childCount,n,i,t,e;if(f!==0){for(this._resetBounds(),n=0;n<o.length;n++)t=o[n]._latlng,this._bounds.extend(t),r+=t.lat,u+=t.lng;for(n=0;n<s.length;n++)i=s[n],i._boundsNeedUpdate&&i._recalculateBounds(),this._bounds.extend(i._bounds),t=i._wLatLng,e=i._childCount,r+=t.lat*e,u+=t.lng*e;this._latlng=this._wLatLng=new L.LatLng(r/f,u/f);this._boundsNeedUpdate=!1}},_addToMap:function(n){n&&(this._backupLatlng=this._latlng,this.setLatLng(n));this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(n,t,i){this._recursively(n,this._group._map.getMinZoom(),i-1,function(n){for(var u=n._markers,r,i=u.length-1;i>=0;i--)r=u[i],r._icon&&(r._setPos(t),r.clusterHide())},function(n){for(var u=n._childClusters,r,i=u.length-1;i>=0;i--)r=u[i],r._icon&&(r._setPos(t),r.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(n,t,i,r){this._recursively(n,r,t,function(u){u._recursivelyAnimateChildrenIn(n,u._group._map.latLngToLayerPoint(u.getLatLng()).round(),i);u._isSingleParent()&&i-1===r?(u.clusterShow(),u._recursivelyRemoveChildrenFromMap(n,t,i)):u.clusterHide();u._addToMap()})},_recursivelyBecomeVisible:function(n,t){this._recursively(n,this._group._map.getMinZoom(),t,null,function(n){n.clusterShow()})},_recursivelyAddChildrenToMap:function(n,t,i){this._recursively(i,this._group._map.getMinZoom()-1,t,function(r){var f,u;if(t!==r._zoom)for(f=r._markers.length-1;f>=0;f--)(u=r._markers[f],i.contains(u._latlng))&&(n&&(u._backupLatlng=u.getLatLng(),u.setLatLng(n),u.clusterHide&&u.clusterHide()),r._group._featureGroup.addLayer(u))},function(t){t._addToMap(n)})},_recursivelyRestoreChildPositions:function(n){for(var t,r,u,i=this._markers.length-1;i>=0;i--)t=this._markers[i],t._backupLatlng&&(t.setLatLng(t._backupLatlng),delete t._backupLatlng);if(n-1===this._zoom)for(r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(u=this._childClusters.length-1;u>=0;u--)this._childClusters[u]._recursivelyRestoreChildPositions(n)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(n,t,i,r){var u,f;this._recursively(n,t-1,i-1,function(n){for(f=n._markers.length-1;f>=0;f--)u=n._markers[f],r&&r.contains(u._latlng)||(n._group._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow())},function(n){for(f=n._childClusters.length-1;f>=0;f--)u=n._childClusters[f],r&&r.contains(u._latlng)||(n._group._featureGroup.removeLayer(u),u.clusterShow&&u.clusterShow())})},_recursively:function(n,t,i,r,u){var s=this._childClusters,f=this._zoom,e,o;if(t<=f&&(r&&r(this),u&&f===i&&u(this)),f<t||f<i)for(e=s.length-1;e>=0;e--)o=s[e],n.intersects(o._bounds)&&o._recursively(n,t,i,r,u)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){return this.options.opacityWhenUnclustered=this.options.opacity||1,this.setOpacity(0)},clusterShow:function(){var n=this.setOpacity(this.options.opacity||this.options.opacityWhenUnclustered);return delete this.options.opacityWhenUnclustered,n}});L.DistanceGrid=function(n){this._cellSize=n;this._sqCellSize=n*n;this._grid={};this._objectPoint={}};L.DistanceGrid.prototype={addObject:function(n,t){var i=this._getCoord(t.x),r=this._getCoord(t.y),u=this._grid,f=u[r]=u[r]||{},e=f[i]=f[i]||[],o=L.Util.stamp(n);this._objectPoint[o]=t;e.push(n)},updateObject:function(n,t){this.removeObject(n);this.addObject(n,t)},removeObject:function(n,t){var r=this._getCoord(t.x),o=this._getCoord(t.y),s=this._grid,u=s[o]=s[o]||{},f=u[r]=u[r]||[],i,e;for(delete this._objectPoint[L.Util.stamp(n)],i=0,e=f.length;i<e;i++)if(f[i]===n)return f.splice(i,1),e===1&&delete u[r],!0},eachObject:function(n,t){var e,o,i,r,u,f,s,h=this._grid;for(e in h){u=h[e];for(o in u)for(f=u[o],i=0,r=f.length;i<r;i++)s=n.call(t,f[i]),s&&(i--,r--)}},getNearObject:function(n){for(var s=this._getCoord(n.x),h=this._getCoord(n.y),i,r,f,u,c,e,o,v=this._objectPoint,l=this._sqCellSize,a=null,t=h-1;t<=h+1;t++)if(f=this._grid[t],f)for(i=s-1;i<=s+1;i++)if(u=f[i],u)for(r=0,c=u.length;r<c;r++)e=u[r],o=this._sqDist(v[L.Util.stamp(e)],n),o<l&&(l=o,a=e);return a},_getCoord:function(n){return Math.floor(n/this._cellSize)},_sqDist:function(n,t){var i=t.x-n.x,r=t.y-n.y;return i*i+r*r}},function(){L.QuickHull={getDistant:function(n,t){var i=t[1].lat-t[0].lat,r=t[0].lng-t[1].lng;return r*(n.lat-t[0].lat)+i*(n.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(n,t){for(var f=0,e=null,o=[],r,u,i=t.length-1;i>=0;i--){if(r=t[i],u=this.getDistant(r,n),u>0)o.push(r);else continue;u>f&&(f=u,e=r)}return{maxPoint:e,newPoints:o}},buildConvexHull:function(n,t){var r=[],i=this.findMostDistantPointFromBaseLine(n,t);return i.maxPoint?(r=r.concat(this.buildConvexHull([n[0],i.maxPoint],i.newPoints)),r.concat(this.buildConvexHull([i.maxPoint,n[1]],i.newPoints))):[n[0]]},getConvexHull:function(n){for(var i=!1,r=!1,o=!1,s=!1,h=null,c=null,l=null,a=null,u=null,f=null,t,e=n.length-1;e>=0;e--)t=n[e],(i===!1||t.lat>i)&&(h=t,i=t.lat),(r===!1||t.lat<r)&&(c=t,r=t.lat),(o===!1||t.lng>o)&&(l=t,o=t.lng),(s===!1||t.lng<s)&&(a=t,s=t.lng);return r!==i?(f=c,u=h):(f=a,u=l),[].concat(this.buildConvexHull([f,u],n),this.buildConvexHull([u,f],n))}}}();L.MarkerCluster.include({getConvexHull:function(){for(var t=this.getAllChildMarkers(),i=[],r,n=t.length-1;n>=0;n--)r=t[n].getLatLng(),i.push(r);return L.QuickHull.getConvexHull(i)}});L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:Math.PI/6,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var n=this.getAllChildMarkers(),r=this._group,u=r._map,t=u.latLngToLayerPoint(this._latlng),i;this._group._unspiderfy();this._group._spiderfied=this;n.length>=this._circleSpiralSwitchover?i=this._generatePointsSpiral(n.length,t):(t.y+=10,i=this._generatePointsCircle(n.length,t));this._animationSpiderfy(n,i)}},unspiderfy:function(n){this._group._inZoomAnimation||(this._animationUnspiderfy(n),this._group._spiderfied=null)},_generatePointsCircle:function(n,t){var e=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+n),f=e/this._2PI,o=this._2PI/n,r=[],i,u;for(r.length=n,i=n-1;i>=0;i--)u=this._circleStartAngle+i*o,r[i]=new L.Point(t.x+f*Math.cos(u),t.y+f*Math.sin(u))._round();return r},_generatePointsSpiral:function(n,t){var f=this._group.options.spiderfyDistanceMultiplier,r=f*this._spiralLengthStart,o=f*this._spiralFootSeparation,s=f*this._spiralLengthFactor*this._2PI,u=0,e=[],i;for(e.length=n,i=n-1;i>=0;i--)u+=o/r+i*.0005,e[i]=new L.Point(t.x+r*Math.cos(u),t.y+r*Math.sin(u))._round(),r+=s/u;return e},_noanimationUnspiderfy:function(){var t=this._group,u=t._map,f=t._featureGroup,r=this.getAllChildMarkers(),n,i;for(t._ignoreMove=!0,this.setOpacity(1),i=r.length-1;i>=0;i--)n=r[i],f.removeLayer(n),n._preSpiderfyLatlng&&(n.setLatLng(n._preSpiderfyLatlng),delete n._preSpiderfyLatlng),n.setZIndexOffset&&n.setZIndexOffset(0),n._spiderLeg&&(u.removeLayer(n._spiderLeg),delete n._spiderLeg);t.fire("unspiderfied",{cluster:this,markers:r});t._ignoreMove=!1;t._spiderfied=null}});L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(n,t){var r=this._group,o=r._map,s=r._featureGroup,h=this._group.options.spiderLegPolylineOptions,u,i,f,e;for(r._ignoreMove=!0,u=0;u<n.length;u++)e=o.layerPointToLatLng(t[u]),i=n[u],f=new L.Polyline([this._latlng,e],h),o.addLayer(f),i._spiderLeg=f,i._preSpiderfyLatlng=i._latlng,i.setLatLng(e),i.setZIndexOffset&&i.setZIndexOffset(1e6),s.addLayer(i);this.setOpacity(.3);r._ignoreMove=!1;r.fire("spiderfied",{cluster:this,markers:n})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}});L.MarkerCluster.include({_animationSpiderfy:function(n,t){var p=this,f=this._group,h=f._map,w=f._featureGroup,y=this._latlng,b=h.latLngToLayerPoint(y),a=L.Path.SVG,o=L.extend({},this._group.options.spiderLegPolylineOptions),c=o.opacity,u,r,e,s,v,l;for(c===i&&(c=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),a?(o.opacity=0,o.className=(o.className||"")+" leaflet-cluster-spider-leg"):o.opacity=c,f._ignoreMove=!0,u=0;u<n.length;u++)r=n[u],l=h.layerPointToLatLng(t[u]),e=new L.Polyline([y,l],o),h.addLayer(e),r._spiderLeg=e,a&&(s=e._path,v=s.getTotalLength()+.1,s.style.strokeDasharray=v,s.style.strokeDashoffset=v),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),w.addLayer(r),r._setPos&&r._setPos(b);for(f._forceLayout(),f._animationStart(),u=n.length-1;u>=0;u--)l=h.layerPointToLatLng(t[u]),r=n[u],r._preSpiderfyLatlng=r._latlng,r.setLatLng(l),r.clusterShow&&r.clusterShow(),a&&(e=r._spiderLeg,s=e._path,s.style.strokeDashoffset=0,e.setStyle({opacity:c}));this.setOpacity(.3);f._ignoreMove=!1;setTimeout(function(){f._animationEnd();f.fire("spiderfied",{cluster:p,markers:n})},200)},_animationUnspiderfy:function(n){var l=this,r=this._group,e=r._map,h=r._featureGroup,a=n?e._latLngToNewLayerPoint(this._latlng,n.zoom,n.center):e.latLngToLayerPoint(this._latlng),u=this.getAllChildMarkers(),v=L.Path.SVG,t,i,o,s,c,f;for(r._ignoreMove=!0,r._animationStart(),this.setOpacity(1),i=u.length-1;i>=0;i--)(t=u[i],t._preSpiderfyLatlng)&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,f=!0,t._setPos&&(t._setPos(a),f=!1),t.clusterHide&&(t.clusterHide(),f=!1),f&&h.removeLayer(t),v&&(o=t._spiderLeg,s=o._path,c=s.getTotalLength()+.1,s.style.strokeDashoffset=c,o.setStyle({opacity:0})));r._ignoreMove=!1;setTimeout(function(){var n=0;for(i=u.length-1;i>=0;i--)t=u[i],t._spiderLeg&&n++;for(i=u.length-1;i>=0;i--)(t=u[i],t._spiderLeg)&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),n>1&&h.removeLayer(t),e.removeLayer(t._spiderLeg),delete t._spiderLeg);r._animationEnd();r.fire("unspiderfied",{cluster:l,markers:u})},200)}});L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this);if(this._map.options.zoomAnimation)this._map.on("zoomstart",this._unspiderfyZoomStart,this);this._map.on("zoomend",this._noanimationUnspiderfy,this);L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this);this._map.off("zoomstart",this._unspiderfyZoomStart,this);this._map.off("zoomanim",this._unspiderfyZoomAnim,this);this._map.off("zoomend",this._noanimationUnspiderfy,this);this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){if(this._map)this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(n){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(n))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(n){this._spiderfied&&this._spiderfied.unspiderfy(n)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(n){n._spiderLeg&&(this._featureGroup.removeLayer(n),n.clusterShow&&n.clusterShow(),n.setZIndexOffset&&n.setZIndexOffset(0),this._map.removeLayer(n._spiderLeg),delete n._spiderLeg)}});L.MarkerClusterGroup.include({refreshClusters:function(n){return n?n instanceof L.MarkerClusterGroup?n=n._topClusterLevel.getAllChildMarkers():n instanceof L.LayerGroup?n=n._layers:n instanceof L.MarkerCluster?n=n.getAllChildMarkers():n instanceof L.Marker&&(n=[n]):n=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(n),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(n),this},_flagParentsIconsNeedUpdate:function(n){var i,t;for(i in n)for(t=n[i].__parent;t;)t._iconNeedsUpdate=!0,t=t.__parent},_refreshSingleMarkerModeMarkers:function(n){var i,t;for(i in n)t=n[i],this.hasLayer(t)&&t.setIcon(this._overrideMarkerIcon(t))}});L.Marker.include({refreshIconOptions:function(n,t){var i=this.options.icon;return L.setOptions(i,n),this.setIcon(i),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}})})(window,document);L.Control.GroupedLayers=L.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,exclusiveGroups:[],groupCheckboxes:!1},initialize:function(n,t,i){var r,u;L.Util.setOptions(this,i);this._layers=[];this._lastZIndex=0;this._handlingClick=!1;this._groupList=[];this._domGroups=[];for(r in n)this._addLayer(n[r],r);for(r in t)for(u in t[r])this._addLayer(t[r][u],u,r,!0)},onAdd:function(n){this._initLayout();this._update();n.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this);return this._container},onRemove:function(n){n.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(n,t){return this._addLayer(n,t),this._update(),this},addOverlay:function(n,t,i){return this._addLayer(n,t,i,!0),this._update(),this},removeLayer:function(n){var i=L.Util.stamp(n),t=this._getLayer(i);return t&&delete this.layers[this.layers.indexOf(t)],this._update(),this},_getLayer:function(n){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&L.stamp(this._layers[t].layer)===n)return this._layers[t]},_initLayout:function(){var t="leaflet-control-layers",n=this._container=L.DomUtil.create("div",t),r,i;if(n.setAttribute("aria-haspopup",!0),L.Browser.touch)L.DomEvent.on(n,"click",L.DomEvent.stopPropagation);else{L.DomEvent.disableClickPropagation(n);L.DomEvent.on(n,"wheel",L.DomEvent.stopPropagation)}if(r=this._form=L.DomUtil.create("form",t+"-list"),this.options.collapsed){if(!L.Browser.android)L.DomEvent.on(n,"mouseover",this._expand,this).on(n,"mouseout",this._collapse,this);if(i=this._layersLink=L.DomUtil.create("a",t+"-toggle",n),i.href="#",i.title="Layers",L.Browser.touch)L.DomEvent.on(i,"click",L.DomEvent.stop).on(i,"click",this._expand,this);else L.DomEvent.on(i,"focus",this._expand,this);this._map.on("click",this._collapse,this)}else this._expand();this._baseLayersList=L.DomUtil.create("div",t+"-base",r);this._separator=L.DomUtil.create("div",t+"-separator",r);this._overlaysList=L.DomUtil.create("div",t+"-overlays",r);n.appendChild(r)},_addLayer:function(n,t,i,r){var o=L.Util.stamp(n),f={layer:n,name:t,overlay:r},u,e;this._layers.push(f);i=i||"";u=this._indexOf(this._groupList,i);u===-1&&(u=this._groupList.push(i)-1);e=this._indexOf(this.options.exclusiveGroups,i)!==-1;f.group={name:i,id:u,exclusive:e};this.options.autoZIndex&&n.setZIndex&&(this._lastZIndex++,n.setZIndex(this._lastZIndex))},_update:function(){var n,t,r,i;if(this._container){for(this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="",this._domGroups.length=0,n=!1,t=!1,i=0;i<this._layers.length;i++)r=this._layers[i],this._addItem(r),t=t||r.overlay,n=n||!r.overlay;this._separator.style.display=t&&n?"":"none"}},_onLayerChange:function(n){var t=this._getLayer(L.Util.stamp(n.layer)),i;t&&(this._handlingClick||this._update(),i=t.overlay?n.type==="layeradd"?"overlayadd":"overlayremove":n.type==="layeradd"?"baselayerchange":null,i&&this._map.fire(i,t))},_createRadioElement:function(n,t){var i='<input type="radio" class="leaflet-control-layers-selector" name="'+n+'"',r;return t&&(i+=' checked="checked"'),i+="/>",r=document.createElement("div"),r.innerHTML=i,r.firstChild},_addItem:function(n){var e=document.createElement("label"),t,s=this._map.hasLayer(n.layer),u,c,h,i,f,r,o;n.overlay?n.group.exclusive?(c="leaflet-exclusive-group-layer-"+n.group.id,t=this._createRadioElement(c,s)):(t=document.createElement("input"),t.type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=s):t=this._createRadioElement("leaflet-base-layers",s);t.layerId=L.Util.stamp(n.layer);t.groupID=n.group.id;L.DomEvent.on(t,"click",this._onInputClick,this);if(h=document.createElement("span"),h.innerHTML=" "+n.name,e.appendChild(t),e.appendChild(h),n.overlay){if(u=this._overlaysList,i=this._domGroups[n.group.id],!i){if(i=document.createElement("div"),i.className="leaflet-control-layers-group",i.id="leaflet-control-layers-group-"+n.group.id,f=document.createElement("label"),f.className="leaflet-control-layers-group-label",n.group.name!==""&&!n.group.exclusive&&this.options.groupCheckboxes){r=document.createElement("input");r.type="checkbox";r.className="leaflet-control-layers-group-selector";r.groupID=n.group.id;r.legend=this;L.DomEvent.on(r,"click",this._onGroupInputClick,r);f.appendChild(r)}o=document.createElement("span");o.className="leaflet-control-layers-group-name";o.innerHTML=n.group.name;f.appendChild(o);i.appendChild(f);u.appendChild(i);this._domGroups[n.group.id]=i}u=i}else u=this._baseLayersList;return u.appendChild(e),e},_onGroupInputClick:function(){var r,t,i,n=this.legend,u,f;for(n._handlingClick=!0,u=n._form.getElementsByTagName("input"),f=u.length,r=0;r<f;r++)t=u[r],t.groupID===this.groupID&&t.className==="leaflet-control-layers-selector"&&(t.checked=this.checked,i=n._getLayer(t.layerId),t.checked&&!n._map.hasLayer(i.layer)?n._map.addLayer(i.layer):!t.checked&&n._map.hasLayer(i.layer)&&n._map.removeLayer(i.layer));n._handlingClick=!1},_onInputClick:function(){var i,n,t,r=this._form.getElementsByTagName("input"),u=r.length;for(this._handlingClick=!0,i=0;i<u;i++)n=r[i],n.className==="leaflet-control-layers-selector"&&(t=this._getLayer(n.layerId),n.checked&&!this._map.hasLayer(t.layer)?this._map.addLayer(t.layer):!n.checked&&this._map.hasLayer(t.layer)&&this._map.removeLayer(t.layer));this._handlingClick=!1},_expand:function(){L.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");var n=this._map._size.y-this._container.offsetTop*4;n<this._form.clientHeight&&(L.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar"),this._form.style.height=n+"px")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")},_indexOf:function(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return i;return-1}});L.control.groupedLayers=function(n,t,i){return new L.Control.GroupedLayers(n,t,i)};
/*
	Leaflet.contextmenu, a context menu for Leaflet.
	(c) 2015, Adam Ratcliffe, GeoSmart Maps Limited
	@preserve
*/
(function(n){var t;if(typeof define=="function"&&define.amd)define(["leaflet"],n);else if(typeof module=="object"&&typeof module.exports=="object")t=require("leaflet"),module.exports=n(t);else{if(typeof L=="undefined")throw new Error("Leaflet must be loaded first");n(window.L)}})(function(n){n.Map.mergeOptions({contextmenuItems:[]});n.Map.ContextMenu=n.Handler.extend({_touchstart:n.Browser.msPointer?"MSPointerDown":n.Browser.pointer?"pointerdown":"touchstart",statics:{BASE_CLS:"leaflet-contextmenu"},initialize:function(t){n.Handler.prototype.initialize.call(this,t);this._items=[];this._visible=!1;var i=this._container=n.DomUtil.create("div",n.Map.ContextMenu.BASE_CLS,t._container);i.style.zIndex=1e4;i.style.position="absolute";t.options.contextmenuWidth&&(i.style.width=t.options.contextmenuWidth+"px");this._createItems();n.DomEvent.on(i,"click",n.DomEvent.stop).on(i,"mousedown",n.DomEvent.stop).on(i,"dblclick",n.DomEvent.stop).on(i,"contextmenu",n.DomEvent.stop)},addHooks:function(){var t=this._map.getContainer();n.DomEvent.on(t,"mouseleave",this._hide,this).on(document,"keydown",this._onKeyDown,this);if(n.Browser.touch)n.DomEvent.on(document,this._touchstart,this._hide,this);this._map.on({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},removeHooks:function(){var t=this._map.getContainer();n.DomEvent.off(t,"mouseleave",this._hide,this).off(document,"keydown",this._onKeyDown,this);n.Browser.touch&&n.DomEvent.off(document,this._touchstart,this._hide,this);this._map.off({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},showAt:function(t,i){t instanceof n.LatLng&&(t=this._map.latLngToContainerPoint(t));this._showAtPoint(t,i)},hide:function(){this._hide()},addItem:function(n){return this.insertItem(n)},insertItem:function(n,t){t=t!==undefined?t:this._items.length;var i=this._createItem(this._container,n,t);return this._items.push(i),this._sizeChanged=!0,this._map.fire("contextmenu.additem",{contextmenu:this,el:i.el,index:t}),i.el},removeItem:function(t){var i=this._container;return(isNaN(t)||(t=i.children[t]),t)?(this._removeItem(n.Util.stamp(t)),this._sizeChanged=!0,this._map.fire("contextmenu.removeitem",{contextmenu:this,el:t}),t):null},removeAllItems:function(){for(var t=this._container.children,i;t.length;)i=t[0],this._removeItem(n.Util.stamp(i));return t},hideAllItems:function(){for(var t,n=0,i=this._items.length;n<i;n++)t=this._items[n],t.el.style.display="none"},showAllItems:function(){for(var t,n=0,i=this._items.length;n<i;n++)t=this._items[n],t.el.style.display=""},setDisabled:function(t,i){var u=this._container,r=n.Map.ContextMenu.BASE_CLS+"-item";isNaN(t)||(t=u.children[t]);t&&n.DomUtil.hasClass(t,r)&&(i?(n.DomUtil.addClass(t,r+"-disabled"),this._map.fire("contextmenu.disableitem",{contextmenu:this,el:t})):(n.DomUtil.removeClass(t,r+"-disabled"),this._map.fire("contextmenu.enableitem",{contextmenu:this,el:t})))},isVisible:function(){return this._visible},_createItems:function(){for(var t=this._map.options.contextmenuItems,n=0,i=t.length;n<i;n++)this._items.push(this._createItem(this._container,t[n]))},_createItem:function(t,i,r){if(i.separator||i==="-")return this._createSeparator(t,r);var f=n.Map.ContextMenu.BASE_CLS+"-item",c=i.disabled?f+" "+f+"-disabled":f,u=this._insertElementAt("a",c,t,r),o=this._createEventHandler(u,i.callback,i.context,i.hideOnSelect),s=this._getIcon(i),h=this._getIconCls(i),e="";s?e='<img class="'+n.Map.ContextMenu.BASE_CLS+'-icon" src="'+s+'"/>':h&&(e='<span class="'+n.Map.ContextMenu.BASE_CLS+"-icon "+h+'"><\/span>');u.innerHTML=e+i.text;u.href="#";n.DomEvent.on(u,"mouseover",this._onItemMouseOver,this).on(u,"mouseout",this._onItemMouseOut,this).on(u,"mousedown",n.DomEvent.stopPropagation).on(u,"click",o);if(n.Browser.touch)n.DomEvent.on(u,this._touchstart,n.DomEvent.stopPropagation);if(!n.Browser.pointer)n.DomEvent.on(u,"click",this._onItemMouseOut,this);return{id:n.Util.stamp(u),el:u,callback:o}},_removeItem:function(t){for(var r,i,f,u=0,e=this._items.length;u<e;u++)if(r=this._items[u],r.id===t){if(i=r.el,f=r.callback,f&&(n.DomEvent.off(i,"mouseover",this._onItemMouseOver,this).off(i,"mouseover",this._onItemMouseOut,this).off(i,"mousedown",n.DomEvent.stopPropagation).off(i,"click",f),n.Browser.touch&&n.DomEvent.off(i,this._touchstart,n.DomEvent.stopPropagation),!n.Browser.pointer))n.DomEvent.on(i,"click",this._onItemMouseOut,this);return this._container.removeChild(i),this._items.splice(u,1),r}return null},_createSeparator:function(t,i){var r=this._insertElementAt("div",n.Map.ContextMenu.BASE_CLS+"-separator",t,i);return{id:n.Util.stamp(r),el:r}},_createEventHandler:function(t,i,r,u){var f=this,e=this._map,o=n.Map.ContextMenu.BASE_CLS+"-item-disabled",u=u!==undefined?u:!0;return function(){n.DomUtil.hasClass(t,o)||(u&&f._hide(),i&&i.call(r||e,f._showLocation),f._map.fire("contextmenu.select",{contextmenu:f,el:t}))}},_insertElementAt:function(n,t,i,r){var f,u=document.createElement(n);return u.className=t,r!==undefined&&(f=i.children[r]),f?i.insertBefore(u,f):i.appendChild(u),u},_show:function(n){this._showAtPoint(n.containerPoint,n)},_showAtPoint:function(t,i){if(this._items.length){var r=this._map,u=r.containerPointToLayerPoint(t),f=r.layerPointToLatLng(u),e=n.extend(i||{},{contextmenu:this});this._showLocation={latlng:f,layerPoint:u,containerPoint:t};i&&i.relatedTarget&&(this._showLocation.relatedTarget=i.relatedTarget);this._setPosition(t);this._visible||(this._container.style.display="block",this._visible=!0);this._map.fire("contextmenu.show",e)}},_hide:function(){this._visible&&(this._visible=!1,this._container.style.display="none",this._map.fire("contextmenu.hide",{contextmenu:this}))},_getIcon:function(t){return n.Browser.retina&&t.retinaIcon||t.icon},_getIconCls:function(t){return n.Browser.retina&&t.retinaIconCls||t.iconCls},_setPosition:function(t){var r=this._map.getSize(),i=this._container,u=this._getElementSize(i),f;this._map.options.contextmenuAnchor&&(f=n.point(this._map.options.contextmenuAnchor),t=t.add(f));i._leaflet_pos=t;t.x+u.x>r.x?(i.style.left="auto",i.style.right=Math.min(Math.max(r.x-t.x,0),r.x-u.x-1)+"px"):(i.style.left=Math.max(t.x,0)+"px",i.style.right="auto");t.y+u.y>r.y?(i.style.top="auto",i.style.bottom=Math.min(Math.max(r.y-t.y,0),r.y-u.y-1)+"px"):(i.style.top=Math.max(t.y,0)+"px",i.style.bottom="auto")},_getElementSize:function(n){var t=this._size,i=n.style.display;return(!t||this._sizeChanged)&&(t={},n.style.left="-999999px",n.style.right="auto",n.style.display="block",t.x=n.offsetWidth,t.y=n.offsetHeight,n.style.left="auto",n.style.display=i,this._sizeChanged=!1),t},_onKeyDown:function(n){var t=n.keyCode;t===27&&this._hide()},_onItemMouseOver:function(t){n.DomUtil.addClass(t.target||t.srcElement,"over")},_onItemMouseOut:function(t){n.DomUtil.removeClass(t.target||t.srcElement,"over")}});n.Map.addInitHook("addHandler","contextmenu",n.Map.ContextMenu);n.Mixin.ContextMenu={bindContextMenu:function(t){return n.setOptions(this,t),this._initContextMenu(),this},unbindContextMenu:function(){return this.off("contextmenu",this._showContextMenu,this),this},addContextMenuItem:function(n){this.options.contextmenuItems.push(n)},removeContextMenuItemWithIndex:function(n){for(var i,r=[],t=0;t<this.options.contextmenuItems.length;t++)this.options.contextmenuItems[t].index==n&&r.push(t);for(i=r.pop();i!==undefined;)this.options.contextmenuItems.splice(i,1),i=r.pop()},replaceContextMenuItem:function(n){this.removeContextMenuItemWithIndex(n.index);this.addContextMenuItem(n)},_initContextMenu:function(){this._items=[];this.on("contextmenu",this._showContextMenu,this)},_showContextMenu:function(t){var r,u,f,i,e;if(this._map.contextmenu){for(u=n.extend({relatedTarget:this},t),f=this._map.mouseEventToContainerPoint(t.originalEvent),this.options.contextmenuInheritItems||this._map.contextmenu.hideAllItems(),i=0,e=this.options.contextmenuItems.length;i<e;i++)r=this.options.contextmenuItems[i],this._items.push(this._map.contextmenu.insertItem(r,r.index));this._map.once("contextmenu.hide",this._hideContextMenu,this);this._map.contextmenu.showAt(f,u)}},_hideContextMenu:function(){for(var n=0,t=this._items.length;n<t;n++)this._map.contextmenu.removeItem(this._items[n]);this._items.length=0;this.options.contextmenuInheritItems||this._map.contextmenu.showAllItems()}};for(var r=[n.Marker,n.Path],u={contextmenu:!1,contextmenuItems:[],contextmenuInheritItems:!0},t,i=0,f=r.length;i<f;i++)t=r[i],t.prototype.options?t.mergeOptions(u):t.prototype.options=u,t.addInitHook(function(){this.options.contextmenu&&this._initContextMenu()}),t.include(n.Mixin.ContextMenu);return n.Map.ContextMenu});let varHost="http://"+$(location).attr("host");$.urlParam=function(n){var t=new RegExp("[?&]"+n+"=([^&#]*)").exec(window.location.href);return t==null?null:decodeURI(t[1])||0};$.fn.serializeObject=function(){var n={},t=this.serializeArray();return $.each(t,function(){n[this.name]!==undefined?(n[this.name].push||(n[this.name]=[n[this.name]]),n[this.name].push(this.value||"")):n[this.name]=this.value||""}),n};$.postJSON=function(n,t,i){return jQuery.ajax({headers:{Accept:"application/json","Content-Type":"application/json"},type:"POST",url:n,data:t,dataType:"json",success:i})};var petLostIcon=L.icon({iconUrl:varHost+"/images/petIcon.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),userIcon=L.icon({iconUrl:varHost+"/images/userM.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),petShopIcon=L.icon({iconUrl:varHost+"/images/petShopIcon.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),petAdocaoIcon=L.icon({iconUrl:varHost+"/images/petAdocaoIcon.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]}),petAbandonadoIcon=L.icon({iconUrl:varHost+"/images/petVistoIcon.png",iconSize:[40,40],iconAnchor:[20,20],popupAnchor:[0,-20]});Object.observe||function(n,t,i,r){"use strict";var u,e,w=["add","update","delete","reconfigure","setPrototype","preventExtensions"],b=t.isArray||function(n){return function(t){return"[object Array]"===n.call(t)}}(n.prototype.toString),f=t.prototype.indexOf?t.indexOf||function(n,i,r){return t.prototype.indexOf.call(n,i,r)}:function(n,t,i){for(var r=i||0;r<n.length;r++)if(n[r]===t)return r;return-1},h=i.Map!==r&&Map.prototype.forEach?function(){return new Map}:function(){var n=[],t=[];return{size:0,has:function(t){return f(n,t)>-1},get:function(i){return t[f(n,i)]},set:function(i,r){var u=f(n,i);-1===u?(n.push(i),t.push(r),this.size++):t[u]=r},"delete":function(i){var r=f(n,i);r>-1&&(n.splice(r,1),t.splice(r,1),this.size--)},forEach:function(i){for(var r=0;r<n.length;r++)i.call(arguments[1],t[r],n[r],this)}}},a=n.getOwnPropertyNames?function(){var i=n.getOwnPropertyNames,t;try{arguments.callee}catch(r){t=(i(f).join(" ")+" ").replace(/prototype |length |name /g,"").slice(0,-1).split(" ");t.length&&(i=function(i){var r=n.getOwnPropertyNames(i),e,u;if("function"==typeof i)for(u=0;u<t.length;)(e=f(r,t[u++]))>-1&&r.splice(e,1);return r})}return i}():function(t){var i,u,r=[];if("hasOwnProperty"in t)for(i in t)t.hasOwnProperty(i)&&r.push(i);else{u=n.hasOwnProperty;for(i in t)u.call(t,i)&&r.push(i)}return b(t)&&r.push("length"),r},c=i.requestAnimationFrame||i.webkitRequestAnimationFrame||function(){var n=+new Date,t=n;return function(i){return setTimeout(function(){i((t=+new Date)-n)},17)}}(),k=function(n,t,i){var r=u.get(n);r?(o(r,n),p(n,r,t,i)):(r=d(n),p(n,r,t,i),1===u.size&&c(v))},d=function(n,t){for(var i=a(n),f=[],r=0,t={handlers:h(),properties:i,values:f,notifier:y(n,t)};r<i.length;)f[r]=n[i[r++]];return u.set(n,t),t},o=function(n,t,i){if(n.handlers.size){var u,l,v,c,h,e,o,y=n.values,r=0;for(u=n.properties.slice(),l=u.length,v=a(t);r<v.length;)h=v[r++],c=f(u,h),e=t[h],-1===c?(s(t,n,{name:h,type:"add",object:t},i),n.properties.push(h),y.push(e)):(o=y[c],u[c]=null,l--,(o===e?0===o&&1/o!=1/e:o===o||e===e)&&(s(t,n,{name:h,type:"update",object:t,oldValue:o},i),n.values[c]=e));for(r=u.length;l&&r--;)null!==u[r]&&(s(t,n,{name:u[r],type:"delete",object:t,oldValue:y[r]},i),n.properties.splice(r,1),n.values.splice(r,1),l--)}},v=function(){u.size&&(u.forEach(o),e.forEach(l),c(v))},l=function(n,t){var i=n.changeRecords;i.length&&(n.changeRecords=[],t(i))},y=function(n,t){return arguments.length<2&&(t=u.get(n)),t&&t.notifier||{notify:function(t){var r,i,f;if(t.type,r=u.get(n),r){f={object:n};for(i in t)"object"!==i&&(f[i]=t[i]);s(n,r,f)}},performChange:function(t,i){if("string"!=typeof t)throw new TypeError("Invalid non-string changeType");if("function"!=typeof i)throw new TypeError("Cannot perform non-function");var f,c,e=u.get(n),l=arguments[2],h=l===r?i():i.call(l);if(e&&o(e,n,t),e&&h&&"object"==typeof h){c={object:n,type:t};for(f in h)"object"!==f&&"type"!==f&&(c[f]=h[f]);s(n,e,c)}}}},p=function(n,t,i,r){var u=e.get(i);u||e.set(i,u={observed:h(),changeRecords:[]});u.observed.set(n,{acceptList:r.slice(),data:t});t.handlers.set(i,u)},s=function(n,t,i,r){t.handlers.forEach(function(t){var u=t.observed.get(n).acceptList;("string"!=typeof r||-1===f(u,r))&&f(u,i.type)>-1&&t.changeRecords.push(i)})};u=h();e=h();n.observe=function(t,i,u){if(!t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.observe cannot observe non-object");if("function"!=typeof i)throw new TypeError("Object.observe cannot deliver to non-function");if(n.isFrozen&&n.isFrozen(i))throw new TypeError("Object.observe cannot deliver to a frozen function object");if(u===r)u=w;else if(!u||"object"!=typeof u)throw new TypeError("Third argument to Object.observe must be an array of strings.");return k(t,i,u),t};n.unobserve=function(n,t){if(null===n||"object"!=typeof n&&"function"!=typeof n)throw new TypeError("Object.unobserve cannot unobserve non-object");if("function"!=typeof t)throw new TypeError("Object.unobserve cannot deliver to non-function");var r,i=e.get(t);return i&&(r=i.observed.get(n))&&(i.observed.forEach(function(n,t){o(n.data,t)}),c(function(){l(i,t)}),1===i.observed.size&&i.observed.has(n)?e["delete"](t):i.observed["delete"](n),1===r.data.handlers.size?u["delete"](n):r.data.handlers["delete"](t)),n};n.getNotifier=function(t){if(null===t||"object"!=typeof t&&"function"!=typeof t)throw new TypeError("Object.getNotifier cannot getNotifier non-object");return n.isFrozen&&n.isFrozen(t)?null:y(t)};n.deliverChangeRecords=function(n){if("function"!=typeof n)throw new TypeError("Object.deliverChangeRecords cannot deliver to non-function");var t=e.get(n);t&&(t.observed.forEach(function(n,t){o(n.data,t)}),l(t,n))}}(Object,Array,this);
/*! JsRender v0.9.85 (Beta): http://jsviews.com/#jsrender */
/*! **VERSION FOR WEB** (For NODE.JS see http://jsviews.com/download/jsrender-node.js) */
!function(n,t){var i=t.jQuery;"object"==typeof exports?module.exports=i?n(t,i):function(i){if(i&&!i.fn)throw"Provide jQuery or null";return n(t,i)}:"function"==typeof define&&define.amd?define(function(){return n(t)}):n(t,!1)}(function(n,t){"use strict";function fi(n,t){return function(){var r,i=this,u=i.base;return i.base=n,r=t.apply(i,arguments),i.base=u,r}}function ht(n,t){return s(t)&&(t=fi(n?n._d?n:fi(lt,n):lt,t),t._d=1),t}function ct(n,t){for(var i in t.props)!tr.test(i)||n[i]&&n[i].fix||(n[i]=ht(n.constructor.prototype[i],t.props[i]))}function it(n){return n}function lt(){return""}function ur(n){try{throw console.log("JsRender dbg breakpoint: "+n),"dbg breakpoint";}catch(t){}return this.base?this.baseApply(arguments):n}function at(n){this.name=(t.link?"JsViews":"JsRender")+" Error";this.message=n||this.name}function r(n,t){for(var i in t)n[i]=t[i];return n}function ei(n,t,r){return n?o(n)?ei.apply(f,n):(u.delimiters=[n,t,et=r?r.charAt(0):et],rt=n.charAt(0),ut=n.charAt(1),v=t.charAt(0),ft=t.charAt(1),n="\\"+rt+"(\\"+et+")?\\"+ut,t="\\"+v+"\\"+ft,k="(?:(\\w+(?=[\\/\\s\\"+v+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+v+"]|\\"+v+"(?!\\"+ft+"))*?)",i.rTag="(?:"+k+")",k=new RegExp("(?:"+n+k+"(\\/)?|\\"+rt+"(\\"+et+")?\\"+ut+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),i.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+n+".*"+t),c):u.delimiters}function fr(n,t){t||n===!0||(t=n,n=void 0);var f,u,e,r,i=this,o=!t||"root"===t;if(n){if(r=t&&i.type===t&&i,!r)if(f=i.views,i._.useKey){for(u in f)if(r=t?f[u].get(n,t):f[u])break}else for(u=0,e=f.length;!r&&u<e;u++)r=t?f[u].get(n,t):f[u]}else if(o)for(;i.parent;)r=i,i=i.parent;else for(;i&&!r;)r=i.type===t?i:void 0,i=i.parent;return r}function oi(){var n=this.get("item");if(n)return n.index}function si(){return this.index}function er(t,u){var o,h,c=this,e=c.ctx;if(e&&(e=e[t]),void 0===e&&(e=gt[t]),e&&e._cp){if(u)return h=e[1]?i._ceo(e[1].deps):["_jsvCp"],h.unshift(e[0]),h._cp=e._cp,h;e=f.getCtx(e)}return e&&s(e)&&!e._wrp&&(o=function(){return e.apply(this&&this!==n?this:c,arguments)},o._wrp=c,r(o,e)),o||e}function or(n){return n&&(n.fn?n:this.getRsc("templates",n)||h(n))}function sr(n,t,u,f){var e,s,o="number"==typeof u&&t.tmpl.bnds[u-1],h=t.linkCtx;return void 0===f&&o&&o._lr&&(f=""),void 0!==f?u=f={props:{},args:[f]}:o&&(u=o(t.data,t,i)),o=o._bd&&o,s=u.args[0],(n||o)&&(e=h&&h.tag,u.view=t,e||(e=r(new i._tg,{_:{inline:!h,bnd:o,unlinked:!0},tagName:":",cvt:n,flow:!0,tagCtx:u}),h&&(h.tag=e,e.linkCtx=h),u.ctx=a(u.ctx,(h?h.view:t).ctx),ct(e,u)),e._er=f&&s,e.ctx=u.ctx||e.ctx||{},u.ctx=void 0,s=e.cvtArgs("true"!==n&&n)[0]),s=o&&t._.onRender?t._.onRender(s,t,e):s,void 0!=s?s:""}function hr(n,t){var r,f,s,e=this,o=e.tagCtx,i=o.args,u=e.bindTo;if(n=n||e.convert,""+n===n&&(n=o.view.getRsc("converters",n)||l("Unknown converter: '"+n+"'")),i.length||e.argDefault===!1||o.index?n&&!t&&(i=i.slice()):i=[o.view.data],u){for(s=[],r=u.length;r--;)f=u[r],s.unshift(vt(o,f));t&&(i=s)}if(n)if(u=u||[0],n=n.apply(e,s||i),r=u.length,r<2&&(n=[n]),t)i=n;else for(;r--;)f=u[r],+f===f&&(i[f]=n?n[r]:void 0);return i}function vt(n,t){return n=n[+t===t?"args":"props"],n&&n[t]}function cr(){return this.cvtArgs(void 0,!0)}function lr(n,t){for(var r,u,i=this;void 0===r&&i;)u=i.tmpl&&i.tmpl[n],r=u&&u[t],i=i.parent;return r||f[n][t]}function ar(n,t,r,u){n.ctx[r]=i._cp(vt(n,t),vt(n.params,t),n.view,u)}function vr(n,r,u,f,e,o){r=r||d;var s,lt,bt,at,it,rt,vt,nt,y,h,ut,kt,pt,ft,wt,dt,w,p,et,ti,ot,ht,gt,c=0,b="",v=r.linkCtx||0,tt=r.ctx,ni=u||r.tmpl,k="number"==typeof f&&r.tmpl.bnds[f-1];for("tag"===n._is?(s=n,n=s.tagName,f=s.tagCtxs,bt=s.template):(lt=r.getRsc("tags",n)||l("Unknown tag: {{"+n+"}} "),bt=lt.template),void 0===o&&k&&k._lr&&(o=""),void 0!==o?(b+=o,f=o=[{props:{},args:[]}]):k&&(f=k(r.data,r,i)),vt=f.length;c<vt;c++)h=f[c],(!v||!v.tag||c&&!v.tag._.inline||s._er)&&((ft=ni.tmpls&&h.tmpl)&&(ft=h.content=ni.tmpls[ft-1]),h.index=c,h.tmpl=ft,h.render=yt,h.view=r,h.ctx=a(h.ctx,tt)),(u=h.props.tmpl)&&(h.tmpl=r.getTmpl(u)),s||(s=new lt._ctr,wt=!!s.init,s.parent=rt=tt&&tt.tag,s.tagCtxs=f,ot=s.dataMap,v&&(s._.inline=!1,v.tag=s,s.linkCtx=v),(s._.bnd=k||v.fn)?s._.arrVws={}:s.dataBoundOnly&&l("{^{"+n+"}} tag must be data-bound")),pt=s.bindTo||[0],f=s.tagCtxs,ot=s.dataMap,h.tag=s,ot&&f&&(h.map=f[c].map),s.flow||(ut=h.ctx=h.ctx||{},at=s.parents=ut.parentTags=tt&&a(ut.parentTags,tt.parentTags)||{},rt&&(at[rt.tagName]=rt),at[s.tagName]=ut.tag=s);if(!(s._er=o)){for(ct(s,f[0]),s.rendering={},c=0;c<vt;c++){if(h=s.tagCtx=f[c],et=h.props,s.ctx=h.ctx,c||(wt&&(ti=s.template,s.init(h,v,s.ctx),wt=void 0),v&&(v.attr=s.attr=v.attr||s.attr),it=s.attr,s._.noVws=it&&it!==st),p=s.cvtArgs(),s.linkedCtxParam)for(nt=pt.length;nt--;)(kt=s.linkedCtxParam[nt])&&(gt=pt[nt],ar(h,gt,kt,{tag:s,ind:nt}));(dt=et.dataMap||ot)&&(p.length||et.dataMap)&&(w=h.map,w&&w.src===p[0]&&!e||(w&&w.src&&w.unmap(),w=h.map=dt.map(p[0],et,void 0,!s._.bnd)),p=[w.tgt]);y=void 0;s.render&&(y=s.render.apply(s,p),r.linked&&y&&s.linkedElem&&!cu.test(y)&&(y=yi(t.templates(y),p[0],void 0,void 0,r,void 0,void 0,s)));p.length||(p=[r]);void 0===y&&(ht=p[0],s.contentCtx&&(ht=s.contentCtx===!0?r:s.contentCtx(ht)),y=h.render(ht,!0)||(e?void 0:""));b=b?b+(y||""):y}s.rendering=void 0}return s.tagCtx=f[0],s.ctx=s.tagCtx.ctx,s._.noVws&&s._.inline&&(b="text"===it?g.html(b):""),k&&r._.onRender?r._.onRender(b,r,s):b}function y(n,t,i,r,u,f,e,o){var h,c,l,s=this,a="array"===t;s.content=o;s.views=a?[]:{};s.parent=i;s.type=t||"top";s.data=r;s.tmpl=u;l=s._={key:0,useKey:a?0:1,id:""+au++,onRender:e,bnds:{}};s.linked=!!e;i?(h=i.views,c=i._,c.useKey?(h[l.key="_"+c.useKey++]=s,s.index=rr,s.getIndex=oi):h.length===(l.key=s.index=f)?h.push(s):h.splice(f,0,s),s.ctx=n||i.ctx):s.ctx=n}function yr(n){var i,t,r;for(i in ui)t=i+"s",n[t]&&(r=n[t],n[t]={},f[t](r,n))}function pr(n,t,u){function w(){var t=this;t._={inline:!0,unlinked:!0};t.tagName=n}function b(n){var i;(i=t[n])&&(t[n]=i=o(i)?i:[i],(k||1)!==i.length&&l(n+" length not same as bindTo "))}var a,e,y,p,v,k,c=t.bindTo,f=new i._tg;if(s(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),void 0!==c)for(c=t.bindTo=o(c)?c:[c],p=k=c.length;p--;)v=c[p],isNaN(parseInt(v))||(v=parseInt(v)),c[p]=v;if(b("linkedElement"),b("linkedCtxParam"),e=t.baseTag){t.flow=!!t.flow;t.baseTag=e=""+e===e?u&&u.tags[e]||nt[e]:e;f=r(f,e);for(y in t)f[y]=ht(e[y],t[y])}else f=r(f,t);return void 0!==(a=f.template)&&(f.template=""+a===a?h[a]||h(a):a),(w.prototype=f).constructor=f._ctr=w,u&&(f._parentTmpl=u),f}function wr(n){return this.base.apply(this,n)}function hi(n,u,f,e){function l(r){var u,o;if(""+r===r||r.nodeType>0&&(s=r)){if(!s)if(/^\.\/[^\\:*?"<>]*$/.test(r))(o=h[n=n||r])?r=o:s=document.getElementById(r);else if(t.fn&&!i.rTmpl.test(r))try{s=t(r,document)[0]}catch(c){}s&&(e?r=s.innerHTML:(u=s.getAttribute(ii),u&&(u!==b?(r=h[u],delete h[u]):t.fn&&(r=t.data(s)[b])),u&&r||(n=n||(t.fn?b:r),r=hi(n,s.innerHTML,f,e)),r.tmplName=n=n||u,n!==b&&(h[n]=r),s.setAttribute(ii,n),t.fn&&t.data(s,b,r)));s=void 0}else r.fn||(r=void 0);return r}var s,c,o=u=u||"";if(0===e&&(e=void 0,o=l(o)),e=e||(u.markup?u:{}),e.tmplName=n,f&&(e._parentTmpl=f),!o&&u.markup&&(o=l(u.markup))&&o.fn&&(o=o.markup),void 0!==o)return o.fn||u.fn?o.fn&&(c=o):(u=li(o,e),pt(o.replace(fu,"\\$&"),u)),c||(c=r(function(){return c.render.apply(c,arguments)},u),yr(c)),c}function br(n,t){return s(n)?n.call(t):n}function ci(n){for(var i=[],t=0,r=n.length;t<r;t++)i.push(n[t].unmap());return i}function kr(n,i){function w(n){a.apply(this,n)}function f(){return new w(arguments)}function b(n,t){for(var i,o,r,u,f=0;f<y;f++)r=e[f],i=void 0,r+""!==r&&(i=r,r=i.getter),void 0===(u=n[r])&&i&&void 0!==(o=i.defaultVal)&&(u=br(o,n)),t(u,i&&g[i.type],r)}function it(t){t=t+""===t?JSON.parse(t):t;var e,r,u=0,f=t,i=[];if(o(t)){for(t=t||[],e=t.length;u<e;u++)i.push(this.map(t[u]));return i._is=n,i.unmap=d,i.merge=k,i}if(t){b(t,function(n,t){t&&(n=t.map(n));i.push(n)});f=this.apply(this,i);for(r in t)r===p||h[r]||(f[r]=t[r])}return f}function k(n){n=n+""===n?JSON.parse(n):n;var i,w,k,s,u,a,v,e,c,y=0,t=this;if(o(t)){for(v={},c=[],w=n.length,k=t.length;y<w;y++){for(e=n[y],a=!1,i=0;i<k&&!a;i++)v[i]||(u=t[i],r&&(v[i]=a=r+""===r?e[r]&&(h[r]?u[r]():u[r])===e[r]:r(u,e)));a?(u.merge(e),c.push(u)):c.push(f.map(e))}return void(l?l(t).refresh(c,!0):t.splice.apply(t,[0,t.length].concat(c)))}b(n,function(n,i,r){i?t[r]().merge(n):t[r](n)});for(s in n)s===p||h[s]||(t[s]=n[s])}function d(){var u,n,r,t,f=0,i=this;if(o(i))return ci(i);for(u={};f<y;f++)n=e[f],r=void 0,n+""!==n&&(r=n,n=r.getter),t=i[n](),u[n]=r&&t&&g[r.type]?o(t)?ci(t):t.unmap():t;for(n in i)"_is"===n||h[n]||n===p||"_"===n.charAt(0)&&h[n.slice(1)]||s(i[n])||(u[n]=i[n]);return u}var c,a,g=this,e=i.getters,nt=i.extend,r=i.id,u=t.extend({_is:n||"unnamed",unmap:d,merge:k},nt),v="",tt="",y=e?e.length:0,l=t.observable,h={};for(w.prototype=u,c=0;c<y;c++)!function(n){n=n.getter||n;h[n]=c+1;var t="_"+n;v+=(v?",":"")+n;tt+="this."+t+" = "+n+";\n";u[n]=u[n]||function(i){return arguments.length?void(l?l(this).setProperty(n,i):this[t]=i):this[t]};l&&(u[n].set=u[n].set||function(n){this[t]=n})}(e[c]);return a=new Function(v,tt.slice(0,-1)),a.prototype=u,u.constructor=a,f.map=it,f.getters=e,f.extend=nt,f.id=r,f}function li(n,i){var u,e=w._wm||{},f=r({tmpls:[],links:{},bnds:[],_is:"template",render:yt},i);return f.markup=n,i.htmlTag||(u=su.exec(n),f.htmlTag=u?u[1].toLowerCase():""),u=e[f.htmlTag],u&&u!==e.div&&(f.markup=t.trim(f.markup)),f}function dr(n,t){function r(e,o,s){var h,l,c,a=i.onStore[n];if(e&&typeof e===ti&&!e.nodeType&&!e.markup&&!e.getTgt&&!("viewModel"===n&&e.getters||e.extend)){for(l in e)r(l,e[l],o);return o||f}return void 0===o&&(o=e,e=void 0),e&&""+e!==e&&(s=o,o=e,e=void 0),c=s?"viewModel"===n?s:s[u]=s[u]||{}:r,h=t.compile,null===o?e&&delete c[e]:(h&&(o=h.call(c,e,o,s,0),o._is=n),e&&(c[e]=o)),a&&a(e,o,s,h),o}var u=n+"s";f[u]=r}function ai(n){c[n]=function(t){return arguments.length?(u[n]=t,c):u[n]}}function vi(n){function t(t,i){this.tgt=n.getTgt(t,i)}return s(n)&&(n={getTgt:n}),n.baseMap&&(n=r(r({},n.baseMap),n)),n.map=function(n,i){return new t(n,i)},n}function yt(n,t,r,u,f,e){var c,p,a,h,v,y,b,k,s=u,l="";if(t===!0?(r=t,t=void 0):typeof t!==ti&&(t=void 0),(a=this.tag)?(v=this,s=s||v.view,h=s.getTmpl(a.template||v.tmpl),arguments.length||(n=s)):h=this,h){if(!u&&n&&"view"===n._is&&(s=n),s&&n===s&&(n=s.data),y=!s,ot=ot||y,s||((t=t||{}).root=n),!ot||w.useViews||h.useViews||s&&s!==d)l=yi(h,n,t,r,s,f,e,a);else{if(s?(b=s.data,k=s.index,s.index=rr):(s=d,s.data=n,s.ctx=t),o(n)&&!r)for(c=0,p=n.length;c<p;c++)s.index=c,s.data=n[c],l+=h.fn(n[c],s,i);else s.data=n,l+=h.fn(n,s,i);s.data=b;s.index=k}y&&(ot=void 0)}return l}function yi(n,t,u,f,s,h,c,l){function ut(n){d=r({},u);d[p]=n}var w,ft,v,tt,it,rt,k,g,et,p,d,b,nt="";if(l&&(et=l.tagName,b=l.tagCtx,u=u?a(u,l.ctx):l.ctx,n===s.content?k=n!==s.ctx._wrp?s.ctx._wrp:void 0:n!==b.content?n===l.template?(k=b.tmpl,u._wrp=b.content):k=b.content||s.content:k=s.content,b.props.link===!1&&(u=u||{},u.link=!1),(p=b.props.itemVar)&&("~"!==p.charAt(0)&&e("Use itemVar='~myItem'"),p=p.slice(1))),s&&(c=c||s._.onRender,u=a(u,s.ctx)),h===!0&&(rt=!0,h=0),c&&(u&&u.link===!1||l&&l._.noVws)&&(c=void 0),g=c,c===!0&&(g=void 0,c=s._.onRender),u=n.helpers?a(n.helpers,u):u,d=u,o(t)&&!f)for(v=rt?s:void 0!==h&&s||new y(u,"array",s,t,n,h,c,k),s&&s._.useKey&&(v._.bnd=!l||l._.bnd&&l),p&&(v.it=p),p=v.it,w=0,ft=t.length;w<ft;w++)p&&ut(t[w]),tt=new y(d,"item",v,t[w],n,(h||0)+w,c,v.content),it=n.fn(t[w],tt,i),nt+=v._.onRender?v._.onRender(it,tt):it;else p&&ut(t),v=rt?s:new y(d,et||"data",s,t,n,h,c,k),l&&!l.flow&&(v.tag=l,l.view=v),nt+=n.fn(t,v,i);return g?g(nt,v):nt}function gr(n,t,i){var r=void 0!==i?s(i)?i.call(t.data,n,t):i||"":"{Error: "+(n.message||n)+"}";return u.onError&&void 0!==(i=u.onError.call(t.data,n,i&&r,t))&&(r=i),t&&!t.linkCtx?g.html(r):r}function l(n){throw new i.Err(n);}function e(n){l("Syntax error\n"+n)}function pt(n,t,i,r,f){function tt(t){t-=s;t&&a.push(n.substr(s,t).replace(ni,"\\n"))}function y(t,i){t&&(t+="}}",e((i?"{{"+i+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+n))}function it(u,h,c,v,p,w,k,g,it,rt,ut,ft){(k&&h||it&&!c||g&&":"===g.slice(-1)||rt)&&e(u);w&&(p=":",v=st);it=it||i&&!f;var ht,et=(h||i)&&[[]],ct="",lt="",at="",vt="",yt="",pt="",wt="",bt="",ot=!it&&!p;c=c||(g=g||"#data",p);tt(ft);s=ft+u.length;k?nt&&a.push(["*","\n"+g.replace(/^:/,"ret+= ").replace(nr,"$1")+";\n"]):c?("else"===c&&(ou.test(g)&&e('for "{{else if expr}}" use "{{else expr}}"'),et=o[8]&&[[]],o[9]=n.substring(o[9],ft),o=l.pop(),a=o[2],ot=!0),g&&bi(g.replace(ni," "),et,t).replace(eu,function(n,t,i,r,u,f,e,o){return r="'"+u+"':",e?(lt+=f+",",vt+="'"+o+"',"):i?(at+=r+"j._cp("+f+',"'+o+'",view),',pt+=r+"'"+o+"',"):t?wt+=f:("trigger"===u&&(bt+=f),"lateRender"===u&&(ht=1),ct+=r+f+",",yt+=r+"'"+o+"',",d=d||tr.test(u)),""}).slice(0,-1),et&&et[0]&&et.pop(),b=[c,v||!!r||d||"",ot&&[],pi(vt||(":"===c?"'#data',":""),yt,pt),pi(lt||(":"===c?"data,":""),ct,at),wt,bt,ht,et||0],a.push(b),ot&&(l.push(o),o=b,o[9]=s)):ut&&(y(ut!==o[0]&&"else"!==o[0]&&ut,o[0]),o[9]=n.substring(o[9],ft),o=l.pop());y(!o&&ut);a=o[2]}var w,p,b,d,g,nt=u.allowCode||t&&t.allowCode||c.allowCode===!0,h=[],s=0,l=[],a=h,o=[,,h];if(nt&&t._is&&(t.allowCode=nt),i&&(void 0!==r&&(n=n.slice(0,-r.length-2)+v),n=rt+n+ft),y(l[0]&&l[0][2].pop()[0]),n.replace(k,it),tt(n.length),(s=h[h.length-1])&&y(""+s!==s&&+s[9]===s[9]&&s[0]),i){for(p=bt(h,n,i),g=[],w=h.length;w--;)g.unshift(h[w][8]);wt(p,g)}else p=bt(h,t);return p}function wt(n,t){var i,r,u=0,f=t.length;for(n.deps=[],n.paths=[];u<f;u++){n.paths.push(r=t[u]);for(i in r)"_jsvto"!==i&&r.hasOwnProperty(i)&&r[i].length&&!r[i].skp&&(n.deps=n.deps.concat(r[i]))}}function pi(n,t,i){return[n.slice(0,-1),t.slice(0,-1),i.slice(0,-1)]}function wi(n,t){return"\n\t"+(t?t+":{":"")+"args:["+n[0]+"]"+(n[1]||!t?",\n\tprops:{"+n[1]+"}":"")+(n[2]?",\n\tctx:{"+n[2]+"}":"")}function bi(n,t,i){function k(k,d,g,nt,tt,it,rt,ft,et,ot,st,ht,ct,lt,at,vt,yt,wt,bt,kt){function ui(n,i,s,h,c,l,a,v){var p="."===s;if(s&&(tt=tt.slice(i.length),/^\.?constructor$/.test(v||tt)&&e(n),p||(n=(h?'view.hlp("'+h+'")':c?"view":"data")+(v?(l?"."+l:h?"":c?"":"."+s)+(a||""):(v=h?"":c?l||"":s,"")),n+=v?"."+v:"",n=i+("view.data"===n.slice(0,9)?n.slice(5):n)),u)){if(gt="linkTo"===o?y=t._jsvto=t._jsvto||[]:f.bd,dt=p&&gt[gt.length-1]){if(dt._jsv){for(;dt.sb;)dt=dt.sb;dt.bnd&&(tt="^"+tt.slice(1));dt.sb=tt;dt.bnd=dt.bnd||"^"===tt.charAt(0)}}else gt.push(tt);b[r]=bt+(p?1:0)}return n}nt&&!ft&&(tt=nt+tt);it=it||"";g=g||d||ht;tt=tt||et;ot=ot||yt||"";var ii,ti,gt,dt,ni,ri=")";if("["===ot&&(ot="[j._sq(",ri=")]"),!rt||h||s){if(u&&vt&&!h&&!s&&(!o||p||y)&&(ii=b[r-1],kt.length-1>bt-(ii||0))){if(ii=kt.slice(ii,bt+k.length),ti!==!0)if(gt=y||c[r-1].bd,dt=gt[gt.length-1],dt&&dt.prm){for(;dt.sb&&dt.sb.prm;)dt=dt.sb;ni=dt.sb={path:dt.sb,bnd:dt.bnd}}else gt.push(ni={path:gt.pop()});vt=ut+":"+ii+" onerror=''"+v;ti=w[vt];ti||(w[vt]=!0,w[vt]=ti=pt(vt,i,!0));ti!==!0&&ni&&(ni._jsv=ti,ni.prm=f.bd,ni.bnd=ni.bnd||ni.path&&ni.path.indexOf("^")>=0)}return h?(h=!ct,h?k:ht+'"'):s?(s=!lt,s?k:ht+'"'):(g?(b[r]=bt++,f=c[++r]={bd:[]},g):"")+(wt?r?"":(l=kt.slice(l,bt),(o?(o=p=y=!1,"\b"):"\b,")+l+(l=bt+k.length,u&&t.push(f.bd=[]),"\b")):ft?(r&&e(n),u&&t.pop(),o=tt,p=nt,l=bt+k.length,u&&(u=f.bd=t[o]=[],u.skp=!nt),tt+":"):tt?tt.split("^").join(".").replace(ru,ui)+(ot?(f=c[++r]={bd:[]},a[r]=ri,ot):it):it?it:at?(at=a[r]||at,a[r]=!1,f=c[--r],at+(ot?(f=c[++r],a[r]=ri,ot):"")):st?(a[r]||e(n),","):d?"":(h=ct,s=lt,'"'))}e(n)}var o,y,p,s,h,u=t&&t[0],f={bd:u},c={0:f},l=0,w=(i?i.links:u&&(u.links=u.links||{}))||d.tmpl.links,r=0,a={},b={},g=(n+(i?" ":"")).replace(uu,k);return!r&&g||e(n)}function bt(n,t,i){var g,f,o,a,rt,yt,pt,ui,kt,ct,tt,s,p,ut,ft,b,lt,k,v,d,et,dt,it,gt,ti,at,h,y,vt,ii,ot,c=0,l=w.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,r="",ht={},fi=n.length;for(""+t===t?(k=i?'data-link="'+t.replace(ni," ").slice(1,-1)+'"':t,t=0):(k=t.tmplName||"unnamed",t.allowCode&&(ht.allowCode=!0),t.debug&&(ht.debug=!0),tt=t.bnds,lt=t.tmpls),g=0;g<fi;g++)if(f=n[g],""+f===f)r+='\n+"'+f+'"';else if(o=f[0],"*"===o)r+=";\n"+f[1]+"\nret=ret";else{if(a=f[1],et=!i&&f[2],rt=wi(f[3],"params")+"},"+wi(p=f[4]),y=f[5],ii=f[6],ot=f[7],dt=f[9]&&f[9].replace(nr,"$1"),(ti="else"===o)?s&&s.push(f[8]):tt&&(s=f[8])&&(s=[s],c=tt.push(1)),l=l||p[1]||p[2]||s||/view.(?!index)/.test(p[0]),(at=":"===o)?a&&(o=a===st?">":a+o):(et&&(v=li(dt,ht),v.tmplName=k+"/"+o,v.useViews=v.useViews||l,bt(et,v),l=v.useViews,lt.push(v)),ti||(d=o,l=l||o&&(!nt[o]||!nt[o].flow),gt=r,r=""),it=n[g+1],it=it&&"else"===it[0]),vt=y?";\ntry{\nret+=":"\n+",ut="",ft="",at&&(s||ii||a&&a!==st||ot)){if(h=new Function("data,view,j,u","// "+k+" "+ ++c+" "+o+"\nreturn {"+rt+"};"),h._er=y,h._tag=o,h._bd=!!s,h._lr=ot,i)return h;wt(h,s);b='c("'+a+'",view,';ct=!0;ut=b+c+",";ft=")"}if(r+=at?(i?(y?"try{\n":"")+"return ":vt)+(ct?(ct=void 0,l=kt=!0,b+(h?(tt[c-1]=h,c):"{"+rt+"}")+")"):">"===o?(pt=!0,"h("+p[0]+")"):(ui=!0,"((v="+p[0]+")!=null?v:"+(i?"null)":'"")'))):(yt=!0,"\n{view:view,tmpl:"+(et?lt.length:"0")+","+rt+"},"),d&&!it){if(r="["+r.slice(0,-1)+"]",b='t("'+d+'",view,this,',i||s){if(r=new Function("data,view,j,u"," // "+k+" "+c+" "+d+"\nreturn "+r+";"),r._er=y,r._tag=d,s&&wt(tt[c-1]=r,s),r._lr=ot,i)return r;ut=b+c+",undefined,";ft=")"}r=gt+vt+b+(r.deps&&c||r)+")";s=0;d=0}y&&(l=!0,r+=";\n}catch(e){ret"+(i?"urn ":"+=")+ut+"j._err(e,view,"+y+")"+ft+";}"+(i?"":"ret=ret"))}r="// "+k+"\nvar v"+(yt?",t=j._tag":"")+(kt?",c=j._cnvt":"")+(pt?",h=j._html":"")+(i?";\n":',ret=""\n')+(ht.debug?"debugger;":"")+r+(i?"\n":";\nreturn ret;");u.debugMode!==!1&&(r="try {\n"+r+"\n}catch(e){\nreturn j._err(e, view);\n}");try{r=new Function("data,view,j,u",r)}catch(ri){e("Compiled template code:\n\n"+r+'\n: "'+(ri.message||ri)+'"')}return t&&(t.fn=r,t.useViews=!!l),r}function a(n,t){return n&&n!==t?t?r(r({},t),n):n:t&&r({},t)}function nu(n){return ir[n]||(ir[n]="&#"+n.charCodeAt(0)+";")}function tu(n){var t,i,r=[];if(typeof n===ti)for(t in n)i=n[t],t!==p&&n.hasOwnProperty(t)&&!s(i)&&r.push({key:t,prop:i});return r}function ki(n,i,r){var u=this.jquery&&(this[0]||l("Unknown template")),f=u.getAttribute(ii);return yt.call(f&&t.data(u)[b]||h(u),n,i,r)}function kt(n){return void 0!=n?hu.test(n)&&(""+n).replace(lu,nu)||n:""}var iu=t===!1;t=t&&t.fn?t:n.jQuery;var dt,k,d,f,p,s,o,h,g,gt,nt,i,u,w,c,rt,ut,v,ft,et,di,ot,gi="v0.9.85",ru=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,uu=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,ni=/[ \t]*(\r\n|\n|\r)/g,nr=/\\(['"])/g,fu=/['"\\]/g,eu=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,ou=/^if\s/,su=/<(\w+)[>\s]/,hu=/[\x00`><\"'&=]/,tr=/^on[A-Z]|^convert(Back)?$/,cu=/^\#\d+_`[\s\S]*\/\d+_`$/,lu=/[\x00`><"'&=]/g,au=0,ir={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},st="html",ti="object",ii="data-jsv-tmpl",b="jsvTmpl",rr="For #index in nested block use #getIndex().",ri={},tt=n.jsrender,vu=tt&&t&&!t.render,ui={template:{compile:hi},tag:{compile:pr},viewModel:{compile:kr},helper:{},converter:{}};if(f={jsviews:gi,sub:{View:y,Err:at,tmplFn:pt,parse:bi,extend:r,extendCtx:a,syntaxErr:e,onStore:{template:function(n,t){null===t?delete ri[n]:ri[n]=t}},addSetting:ai,settings:{allowCode:!1},advSet:lt,_ths:ct,_gm:ht,_tg:function(){},_cnvt:sr,_tag:vr,_er:l,_err:gr,_html:kt,_cp:it,_sq:function(n){return"constructor"===n&&e(""),n}},settings:{delimiters:ei,advanced:function(n){return n?(r(w,n),i.advSet(),c):w}},getCtx:it,map:vi},(at.prototype=new Error).constructor=at,oi.depends=function(){return[this.get("item"),"index"]},si.depends="index",y.prototype={get:fr,getIndex:si,getRsc:lr,getTmpl:or,hlp:er,_is:"view"},i=f.sub,c=f.settings,!(tt||t&&t.render)){for(dt in ui)dr(dt,ui[dt]);g=f.converters;gt=f.helpers;nt=f.tags;i._tg.prototype={baseApply:wr,cvtArgs:hr,bndArgs:cr};d=i.topView=new y;t?(t.fn.render=ki,p=t.expando,t.observable&&(r(i,t.views.sub),f.map=t.views.map)):(t={},iu&&(n.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js";},t.isFunction=function(n){return"function"==typeof n},t.isArray=Array.isArray||function(n){return"[object Array]"==={}.toString.call(n)},i._jq=function(n){n!==t&&(r(n,t),t=n,t.fn.render=ki,delete t.jsrender,p=t.expando)},t.jsrender=gi);u=i.settings;u.allowCode=!1;s=t.isFunction;t.render=ri;t.views=f;t.templates=h=f.templates;for(di in u)ai(di);(c.debugMode=function(n){return void 0===n?u.debugMode:(u.debugMode=n,u.onError=n+""===n?new Function("","return '"+n+"';"):s(n)?n:void 0,c)})(!1);w=u.advanced={useViews:!1,_jsv:!1};nt({"if":{render:function(n){var t=this,i=t.tagCtx;return t.rendering.done||!n&&(arguments.length||!i.index)?"":(t.rendering.done=!0,t.selected=i.index,i.render(i.view,!0))},flow:!0},"for":{render:function(n){var t,u=!arguments.length,i=this,r=i.tagCtx,f="",e=0;return i.rendering.done||(t=u?r.view.data:n,void 0!==t&&(f+=r.render(t,u),e+=o(t)?t.length:1),(i.rendering.done=e)&&(i.selected=r.index)),f},flow:!0},props:{baseTag:"for",dataMap:vi(tu),flow:!0},include:{flow:!0},"*":{render:it,flow:!0},":*":{render:it,flow:!0},dbg:gt.dbg=g.dbg=ur});g({html:kt,attr:kt,url:function(n){return void 0!=n?encodeURI(""+n):null===n?n:""}})}return u=i.settings,o=(t||tt).isArray,c.delimiters("{{","}}","^"),vu&&tt.views.sub._jq(t),t||tt},window);var mdInserirPerdiMeuPet={elementos:[{n:"rowPetNome",v:!0},{n:"rowPetDescricao",v:!0},{n:"rowPetTelefone",v:!0},{n:"rowPetFoto",v:!0},{n:"imgLostPet",v:!0},{n:"rowPetLocal",v:!0}],labels:[{n:"mdNome",v:"Perdi meu Pet"},{n:"mdPetNome",v:"Atende pelo nome"},{n:"mdPetNomeHelp",v:"Qual o nome do seu pet ?"},{n:"mdPetDescricao",v:"Descrio"},{n:"mdPetDescricaoHelp",v:"Descreva o seu pet, fale das cores, se estava com o pelo aparado ou no, estilo do rabo ou orelhas cortadas."},{n:"mdPetTelefone",v:"Telefone de contato"},{n:"mdPetTelefoneHelp",v:"Coloque um nmero do whatsapp para facilitar o contato !"},{n:"mdPetFoto",v:"Foto do seu querido"},{n:"mdPetFotoHelp",v:"Escolha o arquivo... "}]},mdInserirAbandonado={elementos:[{n:"rowPetNome",v:!1},{n:"rowPetDescricao",v:!0},{n:"rowPetTelefone",v:!1},{n:"rowPetFoto",v:!0},{n:"imgLostPet",v:!0},{n:"rowPetLocal",v:!0}],labels:[{n:"mdNome",v:"Vi um pet abandonado"},{n:"mdPetNome",v:""},{n:"mdPetNomeHelp",v:""},{n:"mdPetDescricao",v:"Descreva o pet"},{n:"mdPetDescricaoHelp",v:"Descreva o pet que foi visto abandonado"},{n:"mdPetTelefone",v:""},{n:"mdPetTelefoneHelp",v:""},{n:"mdPetFoto",v:"Foto do amigo perdido"},{n:"mdPetFotoHelp",v:"Escolha o arquivo... "}]},mdInserirAdocao={elementos:[{n:"rowPetNome",v:!0},{n:"rowPetDescricao",v:!0},{n:"rowPetTelefone",v:!0},{n:"rowPetFoto",v:!0},{n:"imgLostPet",v:!0},{n:"rowPetLocal",v:!0}],labels:[{n:"mdNome",v:"Perdi meu Pet"},{n:"mdPetNome",v:"Atende pelo nome"},{n:"mdPetNomeHelp",v:"Qual o nome do seu pet ?"},{n:"mdPetDescricao",v:"Descrio:"},{n:"mdPetDescricaoHelp",v:"Descreva o seu pet, fale das cores, se estava com o pelo aparado ou no, estilo do rabo ou orelhas cortadas."},{n:"mdPetTelefone",v:"Telefone de contato"},{n:"mdPetTelefoneHelp",v:"Coloque um n&uacute;mero do whatsapp para facilitar o contato !"},{n:"mdPetFoto",v:"Foto do seu querido"},{n:"mdPetFotoHelp",v:"Escolha o arquivo... "}]};